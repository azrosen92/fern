types: 
  Order: 
    enum: 
      - asc
      - desc

  UserListContainer: 
    properties: 
      users: list<User>

  UserPage:
    properties:
      data: UserListContainer
      next: optional<uuid>

  ListUsersExtendedResponse: 
    extends:
      - UserPage
    properties:
      total_count: 
        type: integer
        docs: The totall number of /users
 
  ListUsersPaginationResponse: 
    properties: 
      page: optional<Page>
      total_count: 
        type: integer
        docs: The totall number of /users
      data: list<User>

  Page: 
    properties: 
      page: 
        type: integer
        docs: The current page
      next: optional<NextPage>
      per_page: integer
      total_page: integer

  NextPage: 
    properties: 
      page: integer
      starting_after: string

  User: 
    properties: 
      name: string
      id: integer

service:
  auth: false
  base-path: /users
  endpoints:
    listWithCursorPagination:
      pagination: 
        cursor: $request.starting_after
        next_cursor: $response.page.next.starting_after
        results: $response.data
      method: GET
      path: ""
      request:
        name: ListUsersCursorPaginationRequest
        query-parameters:
          page: 
            type: optional<integer>
            docs: Defaults to first page
          per_page: 
            type: optional<integer>
            docs: Defaults to per page
          order: 
            type: optional<Order> 
          starting_after: 
            type: optional<string>
            docs: | 
              The cursor used for pagination in order to fetch 
              the next page of results.
      response: ListUsersPaginationResponse

    listWithOffsetPagination:
      pagination: 
        offset: $request.page
        results: $response.data
      method: GET
      path: ""
      request:
        name: ListUsersOffsetPaginationRequest
        query-parameters:
          page: 
            type: optional<integer>
            docs: Defaults to first page
          per_page: 
            type: optional<integer>
            docs: Defaults to per page
          order: 
            type: optional<Order> 
          starting_after: 
            type: optional<string>
            docs: | 
              The cursor used for pagination in order to fetch 
              the next page of results.
      response: ListUsersPaginationResponse

    listWithExtendedResults:
      pagination: 
        cursor: $request.cursor
        next_cursor: $response.next
        results: $response.data.users
      method: GET
      path: ""
      request:
        name: ListUsersExtendedRequest
        query-parameters:
          cursor: optional<uuid>
      response: ListUsersExtendedResponse